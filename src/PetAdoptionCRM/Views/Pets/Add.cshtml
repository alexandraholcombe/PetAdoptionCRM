
@{
    ViewData["Title"] = "Add New Pet";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using PetAdoptionCRM.ViewModels;

@model AddPetViewModel

<h2>Add Pet</h2>

@using (Html.BeginForm("Add", "Pets", FormMethod.Post))
{
    @Html.HiddenFor(m => m.Pet.AddedBy)

    <div class="form-group">
        @Html.LabelFor(m => m.Pet.Name)
        @Html.TextBoxFor(m => m.Pet.Name, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Pet.Name, null, new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.Label("Species")
        @Html.DropDownListFor(m => m.Pet.SpeciesId, @Model.Species, "Select Species", new { @class = "form-control", @id = "species-selector", required = "required" })
        @Html.ValidationMessageFor(m => m.Pet.SpeciesId, null, new { @class = "text-danger" })
    </div>

        <div class="form-group" id="breed-form-div">
            @Html.Label("Breed")<i class="fa fa-plus add-breed" data-toggle="modal" data-target=".add-breed-modal" aria-label="Add Breed"></i>
            @Html.DropDownListFor(m => m.Pet.BreedId, Enumerable.Empty<SelectListItem>(), "-- Loading Values --", new { @class = "form-control", @id="breed-selector" })
            @Html.ValidationMessageFor(m => m.Pet.BreedId, null, new { @class = "text-danger" })
        </div>

    <div class="form-group switch-field">
        <div class="switch-title">Sex</div>
        @Html.RadioButtonFor(m => m.Pet.Sex, "Male", new { @id = "male-sex"})
        <label for="male-sex">Male</label>
        @Html.RadioButtonFor(m => m.Pet.Sex, "Female", new { @id = "female-sex" })
        <label for="female-sex">Female</label>
        @Html.ValidationMessageFor(m => m.Pet.Sex, null, new { @class = "text-danger" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Pet.About)
        @Html.TextAreaFor(m => m.Pet.About, new { @class="form-control"})
        @Html.ValidationMessageFor(m => m.Pet.About, null, new { @class = "text-danger"})
    </div>

    //Cool, but not MVP
    @*<div id="dog-specific-inputs">
        <div class="form-group switch-field">
            @foreach (var size in ViewBag.DogSizes)
            {
                @Html.RadioButtonFor(m => m.Pet.Size, size.Name, new { @id = size.Name + "dog" })
            }
        </div>
    </div>

    <div id="cat-specific-inputs">

    </div>

    <div id="bird-specific-inputs">

    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Pet.Size)
        @Html.TextBoxFor(m => m.Pet.Size, new { @class = "form-control" })
        @Html.ValidationMessageFor(m => m.Pet.Size, null, new { @class = "text-danger" })
    </div>*@

    <input type="submit" value="Add Pet" class="btn btn-primary" /> @Html.ActionLink("Back", "Index", null, null, new { @class = "btn btn-default" })
}

<div class="modal fade add-breed-modal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Breed</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="NewBreed" class="new-destination">
                    <div class="form-group">
                        <input type="text" class ="new-breed form-control" name="newBreed" placeholder="ex. Neapolitan Mastiff"/>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary submit">Add Breed</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

